<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Application Tracker</title>
    <link rel="stylesheet" href="style.css">
    <!-- Chart.js library for analytics -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<div class="container">
    <h1>Job Application Tracker</h1>

    <!-- ANALYTICS DASHBOARD SECTION -->
    <section class="analytics-section">
        <h2>üìä Analytics Dashboard</h2>
        <div class="charts-container">
            <div class="chart-box">
                <h3>Status Distribution</h3>
                <div class="chart-container">
                    <canvas id="statusChart"></canvas>
                </div>
            </div>
            <div class="chart-box">
                <h3>Applications Timeline</h3>
                <div class="chart-container">
                    <canvas id="timelineChart"></canvas>
                </div>
            </div>
        </div>
    </section>

    <!-- MAIN DASHBOARD -->
    <section class="dashboard">
        <div class="card">
            <h3>Total Applications</h3>
            <p id="totalCount">0</p>
        </div>
        <div class="card">
            <h3>Interviews</h3>
            <p id="interviewCount">0</p>
        </div>
        <div class="card">
            <h3>Rejected</h3>
            <p id="rejectedCount">0</p>
        </div>
        <div class="card">
            <h3>Offers</h3>
            <p id="offerCount">0</p>
        </div>
        <div class="card highlight">
            <h3>Response Rate</h3>
            <p id="responseRate">0%</p>
        </div>
        <div class="card">
            <h3>Pending Follow-ups</h3>
            <p id="pendingFollowups">0</p>
        </div>
        <div class="card">
            <h3>Avg Glassdoor Rating</h3>
            <p id="avgRating">0</p>
        </div>
    </section>

    <!-- COMPANY RESEARCH SECTION -->
    <section class="company-research">
        <h2>üè¢ Company Research</h2>
        <div class="research-header">
            <button id="addResearchBtn" class="research-btn">+ Add Company Research</button>
            <input type="text" id="researchSearch" placeholder="Search companies..." class="research-search">
        </div>
        <div id="researchCards" class="research-cards">
            <!-- Company cards will be added here by JavaScript -->
        </div>
    </section>

    <!-- ADD APPLICATION FORM -->
    <div id="applicationFormContainer" class="form-container" style="display:none;">
        <h2 id="formTitle">Add New Application</h2>
        <form id="applicationForm">
            <div class="form-row">
                <div class="form-group">
                    <label>Company Name *</label>
                    <input type="text" id="company" required minlength="2">
                </div>
                <div class="form-group">
                    <label>Job Title *</label>
                    <input type="text" id="jobTitle" required minlength="2">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label>Status</label>
                    <select id="status">
                        <option value="Applied">Applied</option>
                        <option value="Interview">Interview</option>
                        <option value="Rejected">Rejected</option>
                        <option value="Offer">Offer</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Follow-Up Date *</label>
                    <input type="date" id="followUpDate" required>
                </div>
            </div>

            <!-- COMPANY RESEARCH FIELDS -->
            <div class="form-section">
                <h3>Company Research (Optional)</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Glassdoor Rating (1-5)</label>
                        <input type="number" id="glassdoorRating" min="1" max="5" step="0.1" placeholder="4.5">
                    </div>
                    <div class="form-group">
                        <label>Average Salary</label>
                        <input type="text" id="averageSalary" placeholder="$120,000">
                    </div>
                </div>
                <div class="form-group">
                    <label>Company Notes</label>
                    <textarea id="companyNotes" rows="3" placeholder="Culture, work-life balance, growth opportunities..."></textarea>
                </div>
                <div class="form-group">
                    <label>Recruiter/Contact</label>
                    <input type="text" id="recruiterContact" placeholder="Name, email, or LinkedIn">
                </div>
            </div>

            <input type="hidden" id="editingId" value="">
            <input type="hidden" id="researchId" value="">

            <div class="form-buttons">
                <button type="submit" id="submitBtn">Add Application</button>
                <button type="button" id="cancelBtn">Cancel</button>
            </div>
        </form>
    </div>

    <!-- KEYBOARD SHORTCUTS MODAL -->
    <div id="shortcutsModal" class="modal" style="display:none;">
        <div class="modal-content">
            <h3>‚å®Ô∏è Keyboard Shortcuts</h3>
            <ul style="list-style: none; padding: 0;">
                <li style="margin: 10px 0;"><kbd>Ctrl</kbd> + <kbd>N</kbd> - New Application</li>
                <li style="margin: 10px 0;"><kbd>Ctrl</kbd> + <kbd>F</kbd> - Focus Search</li>
                <li style="margin: 10px 0;"><kbd>Esc</kbd> - Close Form</li>
                <li style="margin: 10px 0;"><kbd>?</kbd> - Show Shortcuts</li>
            </ul>
            <button class="action-btn" onclick="document.getElementById('shortcutsModal').style.display='none'" style="margin-top: 10px;">Close</button>
        </div>
    </div>

    <!-- CONTROLS -->
    <div class="controls">
        <button id="addApplicationBtn">+ Add Application</button>
        <select id="filterStatus">
            <option value="All">All Status</option>
            <option value="Applied">Applied</option>
            <option value="Interview">Interview</option>
            <option value="Rejected">Rejected</option>
            <option value="Offer">Offer</option>
        </select>
        <select id="sortBy">
            <option value="newest">Newest First</option>
            <option value="oldest">Oldest First</option>
            <option value="company">Company A-Z</option>
            <option value="followup">Follow-up Date</option>
        </select>
        <input type="text" id="searchInput" placeholder="Search by company or job">
        <button id="exportBtn" class="secondary-btn">üì• Export Data</button>
        <button id="importBtn" class="secondary-btn">üì§ Import Data</button>
        <input type="file" id="importFile" accept=".json" style="display:none">
        <button id="helpBtn" class="secondary-btn" title="Keyboard Shortcuts">‚ùì</button>
    </div>

    <!-- APPLICATIONS TABLE -->
    <section class="applications">
        <table>
            <thead>
                <tr>
                    <th>Company</th>
                    <th>Job Title</th>
                    <th>Status</th>
                    <th>Date Applied</th>
                    <th>Follow-Up</th>
                    <th>Alert</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="applicationsTable"></tbody>
        </table>
    </section>
</div>

<script src="script.js"></script>
</body>
</html>